<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rock Paper Scissors</title>
  <!-- Load PyScript -->
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  
  <!-- Minimal styling for clarity -->
  <style>
    body {
      font-family: sans-serif;
      margin: 30px;
      background-color: #f8f8f8;
    }
    h1 {
      color: #333;
    }
    button {
      font-size: 16px;
      padding: 10px 15px;
      cursor: pointer;
      margin-bottom: 20px;
    }
    py-terminal {
      background: #222;
      color: #eee;
      padding: 10px;
      width: 100%;
      max-width: 600px;
      height: 250px;
      overflow-y: auto;
      display: block;
    }
  </style>
</head>
<body>

  <h1>Rock Paper Scissors</h1>
  <!-- One "Run" button only -->
  <button py-click="play_rps()">Run</button>

  <!-- Console area where output and prompts will appear -->
  <py-terminal></py-terminal>

  <!-- Your Python code embedded via PyScript -->
  <py-script>
import random

rock = '''
    _______
---'   ____)
      (_____)
      (_____)
      (____)
---.__(___)
'''

paper = '''
    _______
---'   ____)____
          ______)
          _______)
         _______)
---.__________)
'''

scissors = '''
    _______
---'   ____)____
          ______)
       __________)
      (____)
---.__(___)
'''

list_of_choices = [rock, paper, scissors]

wins_over = {
    rock: scissors,
    paper: rock,
    scissors: paper
}

def play_rps():
    # Ask the user for their choice (0, 1, or 2) in the PyScript console
    your_choice_index = int(input("What do you choose? Type 0 for Rock, 1 for Paper, or 2 for Scissors:\n"))
    your_choice = list_of_choices[your_choice_index]
    print(f"\nYour choice:\n{your_choice}")

    # Computer makes a random choice
    computer_choice = random.choice(list_of_choices)
    print(f"Computer chose:\n{computer_choice}")

    # Determine the result
    if your_choice == computer_choice:
        print("It is a tie.")
    elif wins_over[your_choice] == computer_choice:
        print("You win!")
    else:
        print("Computer wins!")
  </py-script>

</body>
</html>
